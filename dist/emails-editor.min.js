!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ReactInputMask=t()}(this,(function(){"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;function i(e){return t.test(e)}!function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}('.emails-editor { background: white; white-space: nowrap; display: flex; flex-wrap: wrap; align-content: flex-start; font-size: 14px; line-height: 24px; padding: 7px 8px 3px; cursor: text; overflow: hidden; }\n.emails-editor__email { position: relative; margin-right: 6px; max-width: 100%; box-sizing: border-box; margin-bottom: 3px; height: 24px; cursor: default; }\n.emails-editor__email-btn-remove { padding-left: 6px; cursor: pointer; font-weight: 300; }\n.emails-editor__email-btn-remove::after { content: "Ã—"; }\n.emails-editor__email--valid { background-color: rgba(102, 152, 255, 0.2); border-radius: 12px; padding-left: 10px; padding-right: 7px; margin-right: 8px; }\n.emails-editor__email--invalid { padding-right: 3px; }\n.emails-editor__email--invalid::after { content: ""; display: block; position: absolute; left: 0; right: 3px; bottom: 0; border-bottom: 1px dashed #d14836; }\n.emails-editor__input { flex-grow: 1; max-width: 100%; font: inherit; height: 24px; margin-bottom: 3px; }\n.emails-editor__width-calculator { white-space: nowrap; font: inherit; position: absolute; visibility: hidden; top: 0; left: 0; }');return function(t,n){var a=this,l=void 0===n?{}:n,o=l.className,d=void 0===o?"":o,r=l.placeholder,s=void 0===r?"":r,c=l.addMorePlaceholder,u=void 0===c?"":c,m=l.emails,h=void 0===m?[]:m,p=l.onChange;e(this,"createEmailBlock",(function(e){var t=["emails-editor__email",i(e)?"emails-editor__email--valid":"emails-editor__email--invalid"].join(" "),n=document.createElement("span");n.className=t,n.innerText=e;var l=document.createElement("span");return l.className="emails-editor__email-btn-remove",l.addEventListener("click",(function(){var e=a.emailBlocks.indexOf(n);a.removeEmailAtIndex(e)})),n.appendChild(l),n})),e(this,"addEmail",(function(e){(Array.isArray(e)?e:[e]).forEach((function(e){var t=a.createEmailBlock(e);a.container.insertBefore(t,a.input),a.emails.push(e),a.emailBlocks.push(t)})),a.adjustInputPlaceholder(),a.adjustInputWidth(),a.onChange&&a.onChange(a.getEmails())})),e(this,"addEnteredEmail",(function(){var e=a.input.value.replace(/[\s,]+/," ").trim().split(" ").filter((function(e){return!!e.trim()}));e.length&&(a.input.value="",a.addEmail(e))})),e(this,"removeEmailAtIndex",(function(e){var t=a.container.children[e];a.container.removeChild(t),a.emails.splice(e,1),a.emailBlocks.splice(e,1),a.adjustInputPlaceholder(),a.adjustInputWidth(),a.onChange&&a.onChange(a.getEmails())})),e(this,"getEmails",(function(){return a.emails.map((function(e){return{value:e,valid:i(e)}}))})),e(this,"setEmails",(function(e){a.emailBlocks.forEach((function(e){a.container.removeChild(e)})),a.emailBlocks=[],a.emails=[],a.addEmail(e)})),e(this,"adjustInputPlaceholder",(function(){var e=a.placeholder,t=a.addMorePlaceholder;a.emails.length?a.input.placeholder=t:a.input.placeholder=e})),e(this,"adjustInputWidth",(function(){var e=a.input,t=e.placeholder,i=e.value;a.widthCalculator.innerText=i;var n=a.widthCalculator.getBoundingClientRect().width;a.widthCalculator.innerText=t;var l=a.widthCalculator.getBoundingClientRect().width,o=Math.max(n,l);a.input.style.width=o+"px"})),e(this,"onKeyDown",(function(e){if("Enter"===e.key)a.addEnteredEmail();else if("Backspace"===e.key){var t=a.input.selectionEnd>0,i=a.emails.length>0;if(t||!i)return;a.removeEmailAtIndex(a.emails.length-1)}})),e(this,"onInput",(function(){/[\s,]/.test(a.input.value)?a.addEnteredEmail():a.adjustInputWidth()})),e(this,"onBlur",(function(){a.addEnteredEmail()})),e(this,"onContainerClick",(function(){a.input.focus()}));var f=document.createElement("input");f.className="emails-editor__input",f.inputMode="email",f.addEventListener("input",this.onInput),f.addEventListener("keydown",this.onKeyDown),f.addEventListener("blur",this.onBlur);var v=document.createElement("div");v.className="emails-editor__width-calculator";var g=document.createElement("div");g.className="emails-editor "+d,g.appendChild(f),g.appendChild(v),g.addEventListener("click",this.onContainerClick),this.input=f,this.widthCalculator=v,this.container=g,this.emails=[],this.emailBlocks=[],this.placeholder=s,this.addMorePlaceholder=u,this.onChange=p,this.addEmail(h),this.adjustInputPlaceholder(),t.appendChild(g)}}));
